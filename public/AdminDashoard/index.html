<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <!-- Boxicons -->
	<link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="style.css">
    <!-- jsPDF Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.29/jspdf.plugin.autotable.min.js"></script>
    <script src="https://cdn.socket.io/4.8.1/socket.io.min.js"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
	<title>Admin-Dashboard</title>
	
</head>
<body>
<!-- SIDEBAR -->
	<section id="sidebar">
		<a href="#" class="brand">
			<i class='bx bx-laptop'></i>
			<span class="text">AdminHub</span>
		</a>
		<ul class="side-menu top">
			<li class="active">
				<a href="#" id="dashboard-link">
					<i class='bx bxs-dashboard'></i>
					<span class="text">Dashboard</span>
				</a>
			</li>
			<li>
				<a href="#" id="messages-link">
					<i class='bx bx-envelope'></i>
					<span class="text">Messages</span>
				</a>
			</li>
			<li>
				<a href="#" id="analytics-link">
					<i class='bx bxs-doughnut-chart'></i>
					<span class="text">Analytics</span>
				</a>
			</li>
			<li>
				<a href="#" id="team-link">
					<i class='bx bxs-group'></i>
					<span class="text">Team</span>
				</a>
			</li>
		</ul>
		<ul class="side-menu">
			<li>
				<a href="#" id="settings-link">
					<i class='bx bxs-cog'></i>
					<span class="text">Settings</span>
				</a>
			</li>
			<li>
				<a href="/Home" class="logout">
					<i class='bx bxs-log-out-circle'></i>
					<span class="text">Logout</span>
				</a>
			</li>
		</ul>
	</section>
	<!-- CONTENT -->
	<section id="content">
		<!-- NAVBAR -->
		<nav>
			<i class='bx bx-menu' ></i>
			<a href="#" class="nav-link">Categories</a>
			<form action="#">
				<div class="form-input">
					<input type="search" placeholder="Search...">
					<button type="submit" class="search-btn"><i class='bx bx-search' ></i></button>
				</div>
			</form>
			<input type="checkbox" id="switch-mode" hidden>
			<label for="switch-mode" class="switch-mode"></label>
			<a href="#" class="notification">
				<i class='bx bxs-bell' ></i>
				<span class="num">0</span>
			</a>
			<a href="#" class="profile">
				<i class='bx bx-user'></i>
			</a>
			<!-- Add Notifications Dropdown -->
			<div class="notifications-menu">
				<div class="notifications-header">
					<h3>Notifications</h3>
					<button class="clear-notifications">Clear All</button>
				</div>
				<div class="notifications-list">
					<!-- Notifications will be added here dynamically -->
				</div>
			</div>
		</nav>
		<!-- MAIN -->
		<main>
			<!-- Messages Section -->
			<div id="messages-section" style="display:none;">
    <div class="head-title">
        <div class="left">
            <h1>Messages</h1>
            <ul class="breadcrumb">
                <li><a href="#">Dashboard</a></li>
                <li><i class='bx bx-chevron-right'></i></li>
                <li><a class="active" href="#">Messages</a></li>
            </ul>
        </div>
    </div>
				<div class="messenger-container">
					<!-- Conversations List -->
					<div class="conversations-list">
						<div class="conversations-header">
							<h2>Messages</h2>
							<button class="new-message-btn">
								<i class='bx bx-plus'></i>
							</button>
						</div>
						<div class="conversations-search">
							<input type="text" placeholder="Search conversations...">
							<i class='bx bx-search'></i>
						</div>
						<div class="conversations" id="conversations">
							
						</div>
					</div>

					<!-- Chat Area -->
					<div class="chat-area">
						<div class="chat-header">
							<div class="chat-user">
								<div class="chat-avatar">
									<i class='bx bx-user'></i>
								</div>
								<div class="chat-info">
									<div class="chat-name">Admin</div>
									<div class="chat-status">online</div>
								</div>
							</div>
				
						</div>
						<div id="msg-container" class="chat-messages">
						</div>
						<form action="" id="msg-form" class="chat-input">
                            <div class="chat-input-wrapper">
                                <div class="image-upload-btn">
                                    <button type="button" class="chat-action-btn" title="Add photo" id="image-upload-btn">
                                        <i class='bx bx-image-add'></i>
                                    </button>
                                    <input type="file" id="image-upload" accept="image/*" style="display: none;">
                                </div>
                                <input type="text" id="msg-input" placeholder="Type a message...">
                            </div>
                            <button type="submit" class="send-btn" title="Send">
                                <i class='bx bx-send'></i>
                            </button>
                        </form>
                        
                        <script>
                            // Handle image upload button click
                            document.getElementById('image-upload-btn').addEventListener('click', function() {
                                document.getElementById('image-upload').click();
                            });

                            // Handle file selection
                            document.getElementById('image-upload').addEventListener('change', function(e) {
                                if (e.target.files && e.target.files[0]) {
                                    const file = e.target.files[0];
                                    // Here you can handle the file upload
                                    console.log('Selected file:', file.name);
                                    
                                    // Example: Show a preview or upload the file
                                    // uploadImage(file);
                                    
                                    // Reset the input to allow selecting the same file again
                                    e.target.value = '';
                                }
                            });

                            // Function to handle image upload (you can implement this as needed)
                            function uploadImage(file) {
                                const formData = new FormData();
                                formData.append('image', file);
                                
                                // Example: Send the image to your server
                                /*
                                fetch('/api/upload', {
                                    method: 'POST',
                                    body: formData
                                })
                                .then(response => response.json())
                                .then(data => {
                                    console.log('Upload successful:', data);
                                    // Handle successful upload (e.g., add image to chat)
                                })
                                .catch(error => {
                                    console.error('Upload error:', error);
                                    // Handle upload error
                                });
                                */
                            }
                        </script>
                        
                        <script>
                            // Add scroll effect to chat header
                            const chatMessages = document.querySelector('.chat-messages');
                            const chatHeader = document.querySelector('.chat-header');
                            
                            if (chatMessages && chatHeader) {
                                chatMessages.addEventListener('scroll', () => {
                                    if (chatMessages.scrollTop > 0) {
                                        chatHeader.classList.add('scrolled');
                                    } else {
                                        chatHeader.classList.remove('scrolled');
                                    }
                                });
                            }
                        </script>
					</div>
				</div>
			</div>

			<!-- Message Modal -->
			<div id="message-modal" class="assign-modal" style="display:none;">
				<div class="assign-modal-content">
					<div class="assign-modal-title">Message Details</div>
					<div id="message-modal-body" style="margin: 20px 0;"></div>
					<button class="assign-btn" id="close-message-modal">Close</button>
				</div>
			</div>

			<!-- Reply Modal -->
			<div id="reply-modal" class="assign-modal" style="display:none;">
				<div class="assign-modal-content">
					<div class="assign-modal-title">Reply to Message</div>
					<div class="reply-form">
						<div class="form-group">
							<label>To:</label>
							<input type="text" id="reply-to" readonly>
						</div>
						<div class="form-group">
							<label>Subject:</label>
							<input type="text" id="reply-subject" placeholder="Enter subject">
						</div>
						<div class="form-group">
							<label>Message:</label>
							<textarea id="reply-message" placeholder="Type your message here..."></textarea>
						</div>
						<button class="assign-btn" id="send-reply">Send Reply</button>
						<button class="assign-btn" id="close-reply-modal">Cancel</button>
					</div>
				</div>
			</div>

			<!-- Team Management Section -->
			<div id="team-section" style="display:none;">
				<div class="head-title">
					<div class="left">
						<h1>Team Management</h1>
						<ul class="breadcrumb">
							<li><a href="#">Dashboard</a></li>
							<li><i class='bx bx-chevron-right'></i></li>
							<li><a class="active" href="#">Team</a></li>
						</ul>
					</div>
					<button class="btn-add" id="add-member-btn">
						<i class='bx bx-plus'></i>
						<span class="text">Add New Member</span>
					</button>
				</div>

				<!-- Team Groups -->
				<div class="team-groups" id="team-groups">
					<!-- Tech Support Team -->
					<div class="team-card">
						<div class="team-header">
							<div class="team-icon">
								<i class='bx bx-wrench'></i>
							</div>
							<div class="team-info">
								<h3>Tech Support Team</h3>
								<p>Technical support and maintenance</p>
							</div>
						</div>
						<div class="team-members">
							<!-- Members will be added dynamically -->
						</div>
					</div>

					<!-- Customer Service Team -->
					<div class="team-card">
						<div class="team-header">
							<div class="team-icon">
								<i class='bx bx-message-rounded-dots'></i>
							</div>
							<div class="team-info">
								<h3>Customer Service Team</h3>
								<p>Customer support and assistance</p>
							</div>
						</div>
						<div class="team-members">
							<!-- Members will be added dynamically -->
						</div>
					</div>

					<!-- Quality Team -->
					<div class="team-card">
						<div class="team-header">
							<div class="team-icon">
								<i class='bx bx-check-circle'></i>
							</div>
							<div class="team-info">
								<h3>Quality Team</h3>
								<p>Quality assurance and testing</p>
							</div>
						</div>
						<div class="team-members">
							<!-- Members will be added dynamically -->
						</div>
					</div>
				</div>
			</div>

			<!-- Add Member Modal -->
			<div id="add-member-modal" class="modal">
				<div class="modal-content">
					<div class="modal-header">
						<h3>Add New Team Member</h3>
						<span class="close-modal">&times;</span>
					</div>
					<div class="modal-body">
						<form id="add-member-form">
							<div class="form-group">
								<label for="member-name">Full Name</label>
								<input type="text" id="member-name" required placeholder="Enter member's full name">
							</div>
							<div class="form-group">
								<label for="member-email">Email</label>
								<input type="email" id="member-email" required placeholder="Enter member's email">
							</div>
							<div class="form-group">
								<label for="member-password">Password</label>
								<div class="password-input">
									<input type="password" id="member-password" required placeholder="Enter password">
									<i class='bx bx-show password-toggle'></i>
								</div>
							</div>
							<div class="form-group">
								<label for="member-team">Assign to Team</label>
								<select id="member-team" required>
									<option value="">Select a team</option>
									<option value="tech-support">Tech Support Team</option>
									<option value="customer-service">Customer Service Team</option>
									<option value="quality">Quality Team</option>
								</select>
							</div>
							<div class="form-group">
								<label for="member-role">Role</label>
								<select id="member-role" required>
									<option value="">Select a role</option>
									<option value="team-lead">Team Lead</option>
									<option value="senior">Senior Member</option>
									<option value="member">Team Member</option>
								</select>
							</div>
						</form>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn-secondary close-modal">Cancel</button>
						<button type="button" class="btn-primary" id="save-member">Add Member</button>
					</div>
				</div>
			</div>

			<div id="analytics-section" style="display:none;">
    <div class="head-title">
        <div class="left">
            <h1>Analytics</h1>
            <ul class="breadcrumb">
                <li><a href="#">Dashboard</a></li>
                <li><i class='bx bx-chevron-right'></i></li>
                <li><a class="active" href="#">Analytics</a></li>
            </ul>
        </div>
        <a href="#" class="btn-download" id="download-pdf">
            <i class='bx bxs-cloud-download' ></i>
            <span class="text">Download PDF</span>
        </a>
    </div>
    
    <!-- Analytics Content -->
    <div class="analytics-content">
        <!-- Reclamation Status Section -->
        <div class="analytics-card">
            <div class="card-header">
                <h3>Complaint Status</h3>
                <div class="time-filters">
                    <button class="time-filter active" data-period="week">Week</button>
                    <button class="time-filter" data-period="month">Month</button>
                    <button class="time-filter" data-period="year">Year</button>
                </div>
            </div>
            <div class="card-body">
                <div class="chart-container">
                    <canvas id="reclamationChart"></canvas>
                </div>
                <div class="chart-legend">
                    <div class="legend-item">
                        <span class="legend-color" style="background-color: #4CAF50;"></span>
                        <span class="legend-label">Completed</span>
                        <span class="legend-value">45%</span>
                    </div>
                    <div class="legend-item">
                        <span class="legend-color" style="background-color: #2196F3;"></span>
                        <span class="legend-label">In Progress</span>
                        <span class="legend-value">30%</span>
                    </div>
                    <div class="legend-item">
                        <span class="legend-color" style="background-color: #FFC107;"></span>
                        <span class="legend-label">Pending</span>
                        <span class="legend-value">15%</span>
                    </div>
                    <div class="legend-item">
                        <span class="legend-color" style="background-color: #F44336;"></span>
                        <span class="legend-label">Reopened</span>
                        <span class="legend-value">10%</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quick Stats Section -->
        <div class="quick-stats">
            <div class="stat-card">
                <div class="stat-icon" style="background-color: #E3F2FD;">
                    <i class='bx bx-time' style="color: #1976D2;"></i>
                </div>
                <div class="stat-details">
                    <h4>Avg. Response Time</h4>
                    <h2>2h 30m</h2>
                    <span class="stat-change positive">
                        <i class='bx bx-up-arrow-alt'></i> 12% from last week
                    </span>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon" style="background-color: #E8F5E9;">
                    <i class='bx bx-check-circle' style="color: #4CAF50;"></i>
                </div>
                <div class="stat-details">
                    <h4>Resolution Rate</h4>
                    <h2>85%</h2>
                    <span class="stat-change positive">
                        <i class='bx bx-up-arrow-alt'></i> 5% from last week
                    </span>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon" style="background-color: #F3E5F5;">
                    <i class='bx bx-user' style="color: #9C27B0;"></i>
                </div>
                <div class="stat-details">
                    <h4>Active Users</h4>
                    <h2>1,234</h2>
                    <span class="stat-change negative">
                        <i class='bx bx-down-arrow-alt'></i> 3% from last week
                    </span>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Monthly Reclamation Trend -->
    <div class="analytics-card full-width">
        <div class="card-header">
            <h3>Monthly Reclamation Trend</h3>
            <div class="view-options">
                <button class="view-option active" data-view="trend">Trend</button>
                <button class="view-option" data-view="comparison">Comparison</button>
            </div>
        </div>
        <div class="card-body">
            <div class="chart-container">
                <canvas id="monthlyTrendChart"></canvas>
            </div>
        </div>
    </div>
    
    <!-- Category Distribution & Priority Levels -->
    <div class="analytics-grid">
        <!-- Category Distribution -->
        <div class="analytics-card">
            <div class="card-header">
                <h3>Category Distribution</h3>
            </div>
            <div class="card-body">
                <div class="chart-container">
                    <canvas id="categoryChart"></canvas>
                </div>
            </div>
        </div>
        
        <!-- Priority Levels -->
        <div class="analytics-card">
            <div class="card-header">
                <h3>Priority Levels</h3>
            </div>
            <div class="card-body">
                <div class="chart-container">
                    <canvas id="priorityChart"></canvas>
                </div>
                <div class="chart-legend">
                    <div class="legend-item">
                        <span class="legend-color" style="background-color: #00B4D8;"></span>
                        <span class="legend-label">Low</span>
                        <span class="legend-value">25%</span>
                    </div>
                    <div class="legend-item">
                        <span class="legend-color" style="background-color: #4361EE;"></span>
                        <span class="legend-label">Medium</span>
                        <span class="legend-value">35%</span>
                    </div>
                    <div class="legend-item">
                        <span class="legend-color" style="background-color: #FFD60A;"></span>
                        <span class="legend-label">High</span>
                        <span class="legend-value">25%</span>
                    </div>
                    <div class="legend-item">
                        <span class="legend-color" style="background-color: #FF6D6A;"></span>
                        <span class="legend-label">Critical</span>
                        <span class="legend-value">15%</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <ul class="box-info">
        <li>
            <i class='bx bxs-calendar-check' ></i>
            <span class="text">
                <h3 id="newRec"></h3>
                <p>New Reclamation</p>
            </span>
        </li>
        <li>
            <i class='bx bxs-group' ></i>
            <span class="text">
                <h3 id="client"></h3>
                <p>Visitors</p>
            </span>
        </li>
        <li>
            <i class='bx bxs-check-circle' ></i>
            <span class="text">
                <h3 id="completed"></h3>
                <p>Completed Tasks</p>
            </span>
        </li>
    </ul>
</div>

			<div class="head-title">
				<div class="left">
					<h1>Dashboard</h1>
					<ul class="breadcrumb">
						<li>
							<a href="#">Dashboard</a>
						</li>
						<li><i class='bx bx-chevron-right' ></i></li>
						<li>
							<a class="active" href="#">Home</a>
						</li>
					</ul>
				</div>
				<a href="#" class="btn-download" id="download-pdf">
					<i class='bx bxs-cloud-download' ></i>
					<span class="text">Download PDF</span>
				</a>
			</div>

			


			<div class="table-data">
				<div class="order">
					<div class="head">
						<h3>Recent Complaints</h3>
						<div class="table-actions">
							<i class='bx bx-refresh refresh-btn' title="Refresh" onclick="refreshTable()"></i>
							<i class='bx bx-search search-btn' title="Search"></i>
							<i class='bx bx-filter filter-btn' title="Filter"></i>
						</div>
					</div>
					<table>
						<thead>
							<tr>
								<th>User</th>
								<th>Date Order</th>
								<th>Assignee</th>
								<th>Status</th>
								<th>Actions</th>
							</tr>
						</thead>
						<tbody id="tbody">
						</tbody>
					</table>
				</div>
				<div class="todo">
					<div class="head">
						<h3>Todos</h3>
						<i class='bx bx-plus' id="add-todo"></i>
						<i class='bx bx-filter'></i>
					</div>
					<ul class="todo-list">
						<li class="completed">
							<p>Assign tasks to Tech Support team</p>
							<i class='bx bx-dots-vertical-rounded todo-actions'></i>
						</li>
						<li class="process">
							<p>Review pending assignments</p>
							<i class='bx bx-dots-vertical-rounded todo-actions'></i>
						</li>
						<li class="not-completed">
							<p>Follow up on completed tasks</p>
							<i class='bx bx-dots-vertical-rounded todo-actions'></i>
						</li>
					</ul>
				</div>
			</div>

			<!-- Settings Section -->
			<div id="settings-section" style="display:none;">
				<div class="settings-head">
					<h1>Settings</h1>
					<ul class="breadcrumb">
						<li><a href="#">Dashboard</a></li>
						<li><i class='bx bx-chevron-right'></i></li>
						<li><a class="active" href="#">Settings</a></li>
					</ul>
				</div>
				<div class="settings-stack">
					<!-- Profile Settings Card -->
					<div class="settings-block">
						<div class="settings-block-title">
							<i class='bx bx-user-circle'></i>
							<span>Profile Settings</span>
						</div>
						<hr>
						<form id="profile-form">
							<label>Profile Picture</label>
							<div class="profile-upload">
								<div class="profile-pic"><i class='bx bx-user'></i></div>
								<button type="button" class="btn-upload">Change Photo</button>
							</div>
							<div class="form-group">
								<label>Full Name</label>
								<input type="text" id="settings-name" placeholder="Enter your name">
							</div>
							<div class="form-group">
								<label>Email</label>
								<input type="email" id="settings-email" placeholder="Enter your email">
							</div>
							<button type="submit" class="btn-save">Save Changes</button>
						</form>
					</div>
					<!-- Security Settings Card -->
					<div class="settings-block">
						<div class="settings-block-title">
							<i class='bx bx-lock-alt'></i>
							<span>Security Settings</span>
						</div>
						<hr>
						<form id="security-form">
							<div class="form-group">
								<label>Current Password</label>
								<input type="password" id="current-password" placeholder="Enter current password">
							</div>
							<div class="form-group">
								<label>New Password</label>
								<input type="password" id="new-password" placeholder="Enter new password">
							</div>
							<div class="form-group">
								<label>Confirm Password</label>
								<input type="password" id="confirm-password" placeholder="Confirm new password">
							</div>
							<button type="submit" class="btn-save">Update Password</button>
						</form>
					</div>
					<!-- Notification Settings Card -->
					<div class="settings-block">
						<div class="settings-block-title">
							<i class='bx bx-bell'></i>
							<span>Notification Settings</span>
						</div>
						<hr>
						<div class="notification-settings">
							<div class="setting-item">
								<div class="setting-info">
									<h4>Email Notifications</h4>
									<p>Receive email notifications for new tasks</p>
								</div>
								<label class="switch">
									<input type="checkbox" id="email-notifications" checked>
									<span class="slider"></span>
								</label>
							</div>
							<div class="setting-item">
								<div class="setting-info">
									<h4>Task Updates</h4>
									<p>Get notified when tasks are updated</p>
								</div>
								<label class="switch">
									<input type="checkbox" id="task-notifications" checked>
									<span class="slider"></span>
								</label>
							</div>
							<div class="setting-item">
								<div class="setting-info">
									<h4>Team Changes</h4>
									<p>Notifications about team member changes</p>
								</div>
								<label class="switch">
									<input type="checkbox" id="team-notifications">
									<span class="slider"></span>
								</label>
							</div>
						</div>
					</div>
				</div>
			</div>
		</main>
		<!-- MAIN -->
	</section>
	<!-- CONTENT -->
	

    <script src="script.js"></script> 
<script>
// Dropdown toggle logic for assignee
function closeAllDropdowns() {
  document.querySelectorAll('.group-dropdown').forEach(dd => dd.style.display = 'none');
}
document.addEventListener('click', function(event) {
  // Hide all dropdowns if clicking outside
  if (!event.target.closest('.assignee-cell')) {
    closeAllDropdowns();
  }
});
document.querySelectorAll('.assignee-cell').forEach(cell => {
  const icon = cell.querySelector('.assignee-icon');
  const dropdown = cell.querySelector('.group-dropdown');
  const groupNumSpan = cell.querySelector('.group-num');
  icon.addEventListener('click', function(e) {
    e.preventDefault();
    if (groupNumSpan.style.display === 'inline-block') return; // Don't open dropdown if already selected
    const isVisible = dropdown.style.display === 'block';
    closeAllDropdowns();
    dropdown.style.display = isVisible ? 'none' : 'block';
  });
  dropdown.querySelectorAll('li').forEach(item => {
    item.addEventListener('click', function() {
      // Hide icon, show number
      icon.style.display = 'none';
      groupNumSpan.textContent = this.textContent;
      groupNumSpan.style.display = 'inline-block';
      dropdown.style.display = 'none';
    });
  });
});
</script>
<style>
.group-dropdown {
  position: absolute;
  background: #fff;
  border-radius: 6px;
  box-shadow: 0 2px 12px rgba(0,0,0,0.10);
  min-width: 54px;
  max-height: 120px;
  overflow-y: auto;
  z-index: 10;
  padding: 0;
  top: 30px;
  left: 50%;
  transform: translateX(-50%);
  border: 1px solid #e0e0e0;
  font-family: inherit;
  transition: box-shadow 0.18s;
}
.dropdown-header {
  background: #f7f7f7;
  font-weight: bold;
  color: #444;
  padding: 6px 0 5px 0;
  font-size: 14px;
  text-align: center;
  border-bottom: 1px solid #e0e0e0;
  letter-spacing: 1px;
}
.assignee-cell {
  position: relative;
  text-align: center;
}
.group-dropdown ul {
  list-style: none;
  margin: 0;
  padding: 0;
}
.group-dropdown ul li {
  padding: 5px 0;
  cursor: pointer;
  transition: background 0.15s, color 0.15s;
  font-size: 15px;
  color: #222;
  text-align: center;
  border-radius: 3px;
}
.group-dropdown ul li:hover {
  background: #e7f1ff;
  color: #0a58ca;
}
.assignee-icon {
  display: inline-flex;
  align-items: center;
  cursor: pointer;
  font-size: 19px;
  color: #0a58ca;
  background: #f8f9fa;
  border-radius: 50%;
  padding: 5px 7px;
  transition: background 0.2s, color 0.2s;
  border: 1px solid #e1e1e1;
  min-width: 32px;
  min-height: 32px;
  justify-content: center;
}
.assignee-icon:hover {
  background: #e7f1ff;
  color: #0056b3;
}
.group-num {
  font-size: 16px;
  color: #0a58ca;
  font-weight: bold;
  display: inline-block;
  min-width: 18px;
  min-height: 32px;
  line-height: 32px;
  text-align: center;
}
</style>
<!-- Modal Overlay and Assign Modal -->
<div id="assign-overlay" class="assign-overlay" style="display:none;"></div>
<div id="assign-modal" class="assign-modal" style="display:none;">
    <div class="assign-modal-content">
        <div class="assign-modal-header">
            <h3>Assign Task</h3>
            <button class="close-modal">&times;</button>
        </div>
        <div class="assign-modal-body">
            <div class="search-box">
                <input type="text" id="member-search" placeholder="Search members...">
            </div>
            <div class="members-list">
                <!-- Tech Support Team -->
                <div class="team-section">
                    <div class="team-header">
                        <i class='bx bx-wrench'></i>
                        <span>Tech Support</span>
                    </div>
                    <div class="team-members" id="TechSupport">
                        
                    </div>
                </div>
                
                <!-- Customer Service Team -->
                <div class="team-section">
                    <div class="team-header">
                        <i class='bx bx-message-rounded-dots'></i>
                        <span>Customer Service</span>
                    </div>
                    <div class="team-members" id="CustomerService">
                       
                    </div>
                </div>
                
                <!-- Quality Team -->
                <div class="team-section">
                    <div class="team-header">
                        <i class='bx bx-check-circle'></i>
                        <span>Quality Team</span>
                    </div>
                    <div class="team-members" id="QualityTeam">
                        
                    </div>
                </div>
            </div>
        </div>
        <div class="assign-modal-footer">
            <button id="assign-button" class="assign-btn" disabled>Assign Task</button>
        </div>
    </div>
</div>
<script>
// Modal logic
let selectedAssignCell = null;
let selectedGroupValue = null;
// Open modal on icon click
 document.querySelectorAll('.assignee-icon').forEach(icon => {
   icon.addEventListener('click', function(e) {
     e.preventDefault();
     selectedAssignCell = icon.closest('.assignee-cell');
     document.getElementById('assign-overlay').style.display = 'block';
     document.getElementById('assign-modal').style.display = 'flex';
     document.querySelectorAll('.assign-group-item').forEach(item => item.classList.remove('selected'));
     document.querySelector('.assign-btn').disabled = true;
     selectedGroupValue = null;
   });
 });
// Close modal on overlay click
 document.getElementById('assign-overlay').addEventListener('click', function() {
   document.getElementById('assign-overlay').style.display = 'none';
   document.getElementById('assign-modal').style.display = 'none';
 });
// Select group
 document.querySelectorAll('.assign-group-item').forEach(item => {
   item.addEventListener('click', function() {
     document.querySelectorAll('.assign-group-item').forEach(i => i.classList.remove('selected'));
     this.classList.add('selected');
     selectedGroupValue = this.getAttribute('data-value');
     document.querySelector('.assign-btn').disabled = false;
   });
 });
// Assign action
 document.querySelector('.assign-btn').addEventListener('click', function() {
   if(selectedGroupValue) {
     // Hide the assign icon
     selectedAssignCell.querySelector('.assignee-icon').style.display = 'none';
     // Change the status to Process
    /* const row = selectedAssignCell.closest('tr');
     if(row) {
       const statusCell = row.querySelector('td:last-child span.status');
       if(statusCell) {
         statusCell.textContent = 'In Progress';
         statusCell.className = 'status process';
       }
     }*/
     // Hide modal and overlay
     document.getElementById('assign-overlay').style.display = 'none';
     document.getElementById('assign-modal').style.display = 'none';
   }
 });
// Search filter
 document.querySelector('.assign-search').addEventListener('input', function() {
   let val = this.value.toLowerCase();
   document.querySelectorAll('.assign-group-item').forEach(item => {
     let name = item.querySelector('.assign-group-name').textContent.toLowerCase();
     item.style.display = name.includes(val) ? '' : 'none';
   });
 });
</script>
<style>
.assign-overlay {
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  background: rgba(40, 50, 70, 0.28);
  backdrop-filter: blur(2px);
  z-index: 1000;
}
.assign-modal {
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 1100;
}
.assign-modal-content {
  background: #fff;
  border-radius: 18px;
  box-shadow: 0 8px 32px rgba(0,0,0,0.13);
  padding: 32px 30px 22px 30px;
  min-width: 340px;
  max-width: 94vw;
  min-height: 320px;
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
.assign-modal-title {
  font-size: 1.55rem;
  font-weight: bold;
  margin-bottom: 18px;
  color: #222;
  letter-spacing: 0.5px;
}
.assign-search {
  padding: 10px 14px;
  border-radius: 8px;
  border: 1px solid #e0e0e0;
  font-size: 1rem;
  margin-bottom: 18px;
  outline: none;
  transition: border 0.2s;
}
.assign-search:focus {
  border: 1.5px solid #1976d2;
}
.assign-group-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
  margin-bottom: 28px;
  max-height: 160px;
  overflow-y: auto;
}
.assign-group-item {
  display: flex;
  align-items: center;
  background: #f9fafe;
  border: 1.5px solid #ececec;
  border-radius: 10px;
  padding: 11px 14px;
  cursor: pointer;
  transition: border 0.18s, background 0.18s;
}
.assign-group-item.selected {
  border: 1.5px solid #1976d2;
  background: #e7f1ff;
}
.assign-group-icon {
  font-size: 1.45rem;
  margin-right: 13px;
  display: flex;
  align-items: center;
}
.assign-group-info {
  display: flex;
  flex-direction: column;
}
.assign-group-name {
  font-size: 1.07rem;
  font-weight: 500;
  color: #1b1b1b;
}
.assign-group-members {
  font-size: 0.95rem;
  color: #888;
  margin-top: 2px;
}
.assign-btn {
  margin-top: 12px;
  padding: 11px 0;
  border-radius: 11px;
  background: #1976d2;
  color: #fff;
  font-size: 1.13rem;
  font-weight: bold;
  border: none;
  cursor: pointer;
  transition: background 0.18s;
}
.assign-btn:disabled {
  background: #bcd4f6;
  cursor: not-allowed;
}
.messages-card {
  background: #fff;
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.06);
  padding: 32px 24px;
  margin: 32px auto;
  max-width: 680px;
}
.messages-card h2 {
  margin-bottom: 18px;
  font-size: 1.5rem;
  color: #2a4c7b;
}
.messages-table {
  width: 100%;
  border-collapse: collapse;
}
.messages-table th, .messages-table td {
  padding: 10px 12px;
  text-align: left;
}
.messages-table th {
  background: #f3f7fa;
  color: #2a4c7b;
}
.messages-table tr {
  border-bottom: 1px solid #eee;
  cursor: pointer;
  transition: background 0.15s;
}
.messages-table tr:hover {
  background: #f0f6ff;
}
.assign-modal-content .assign-btn#close-message-modal {
  background: #2a4c7b;
  color: #fff;
  margin-top: 8px;
}
</style>
<script>
// Show messages section
const dashboardLink = document.getElementById('dashboard-link');
const messagesLink = document.getElementById('messages-link');
const mainContent = document.querySelector('main > .head-title').parentElement;
const messagesSection = document.getElementById('messages-section');

dashboardLink.addEventListener('click', function(e) {
  e.preventDefault();
  messagesSection.style.display = 'none';
  mainContent.querySelector('.head-title').style.display = '';
  mainContent.querySelectorAll(':scope > *:not(#messages-section):not(#message-modal)').forEach(el => {
    if(el !== messagesSection && el.id !== 'message-modal') el.style.display = '';
  });
});

messagesLink.addEventListener('click', function(e) {
  e.preventDefault();
  messagesSection.style.display = '';
  mainContent.querySelector('.head-title').style.display = 'none';
  mainContent.querySelectorAll(':scope > *:not(#messages-section):not(#message-modal)').forEach(el => {
    if(el !== messagesSection && el.id !== 'message-modal') el.style.display = 'none';
  });
});

// Show message modal on row click
Array.from(document.querySelectorAll('.message-row')).forEach(row => {
  row.addEventListener('click', function() {
    document.getElementById('message-modal-body').innerText = row.getAttribute('data-message');
    document.getElementById('message-modal').style.display = '';
    document.getElementById('assign-overlay').style.display = '';
  });
});
document.getElementById('close-message-modal').onclick = function() {
  document.getElementById('message-modal').style.display = 'none';
  document.getElementById('assign-overlay').style.display = 'none';
};
</script>
</body>

<script>
// Initialize donut chart
document.addEventListener('DOMContentLoaded', function() {
    // Chart data
    const chartData = {
        labels: ['Completed', 'In Progress', 'Pending', 'Reopened'],
        datasets: [{
            data: [45, 30, 15, 10],
            backgroundColor: [
                '#4CAF50', // Green
                '#2196F3', // Blue
                '#FFC107', // Yellow
                '#F44336'  // Red
            ],
            borderWidth: 0,
            cutout: '70%',
            spacing: 5
        }]
    };

    // Chart configuration
    const config = {
        type: 'doughnut',
        data: chartData,
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    display: false
                },
                tooltip: {
                    callbacks: {
                        label: function(context) {
                            const label = context.label || '';
                            const value = context.raw || 0;
                            return `${label}: ${value}%`;
                        }
                    }
                }
            },
            cutout: '70%',
            radius: '90%'
        }
    };

    // Initialize chart
    const ctx = document.getElementById('reclamationChart').getContext('2d');
    const reclamationChart = new Chart(ctx, config);

    // Time filter functionality
    const timeFilters = document.querySelectorAll('.time-filter');
    timeFilters.forEach(filter => {
        filter.addEventListener('click', function() {
            // Remove active class from all filters
            timeFilters.forEach(f => f.classList.remove('active'));
            // Add active class to clicked filter
            this.classList.add('active');
            
            // Here you would typically fetch new data based on the selected time period
            // For now, we'll just log the selected period
            const period = this.getAttribute('data-period');
            console.log('Selected period:', period);
            
            // Example of how you might update the chart with new data
            // updateChartData(period);
        });
    });

    // Function to update chart data (example)
    function updateChartData(period) {
        // This is where you would fetch new data based on the selected period
        // For demonstration, we'll just rotate the data
        const newData = [...chartData.datasets[0].data];
        const firstItem = newData.shift();
        newData.push(firstItem);
        
        reclamationChart.data.datasets[0].data = newData;
        reclamationChart.update();
        
        // Update legend values
        document.querySelectorAll('.legend-item').forEach((item, index) => {
            item.querySelector('.legend-value').textContent = `${newData[index]}%`;
        });
    }
});
</script>

<script>
// Initialize monthly trend chart
document.addEventListener('DOMContentLoaded', function() {
    const ctx = document.getElementById('monthlyTrendChart').getContext('2d');
    
    // Sample data for the trend chart (Jan-Dec)
    const monthlyData = {
        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
        datasets: [{
            label: 'Reclamations',
            data: [45, 60, 55, 75, 80, 65, 70, 85, 90, 80, 75, 95],
            borderColor: '#3C91E6',
            backgroundColor: 'rgba(60, 145, 230, 0.1)',
            borderWidth: 2,
            fill: true,
            tension: 0.4,
            pointBackgroundColor: '#fff',
            pointBorderColor: '#3C91E6',
            pointBorderWidth: 2,
            pointRadius: 4,
            pointHoverRadius: 6
        }]
    };

    // Chart configuration
    const config = {
        type: 'line',
        data: monthlyData,
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    display: false
                },
                tooltip: {
                    backgroundColor: 'rgba(0, 0, 0, 0.8)',
                    titleFont: {
                        size: 14,
                        weight: '500'
                    },
                    bodyFont: {
                        size: 14
                    },
                    padding: 12,
                    displayColors: false,
                    callbacks: {
                        label: function(context) {
                            return `Reclamations: ${context.raw}`;
                        }
                    }
                }
            },
            scales: {
                x: {
                    grid: {
                        display: false,
                        drawBorder: false
                    },
                    ticks: {
                        color: '#666',
                        font: {
                            size: 12
                        }
                    }
                },
                y: {
                    beginAtZero: true,
                    grid: {
                        color: 'rgba(0, 0, 0, 0.05)',
                        drawBorder: false
                    },
                    ticks: {
                        color: '#666',
                        font: {
                            size: 12
                        },
                        callback: function(value) {
                            return value;
                        }
                    },
                    max: 100,
                    min: 0,
                    stepSize: 20
                }
            },
            elements: {
                line: {
                    borderWidth: 2
                }
            }
        }
    };

    // Initialize the chart
    const monthlyTrendChart = new Chart(ctx, config);

    // Toggle between trend and comparison views
    const viewOptions = document.querySelectorAll('.view-option');
    viewOptions.forEach(option => {
        option.addEventListener('click', function() {
            // Remove active class from all options
            viewOptions.forEach(opt => opt.classList.remove('active'));
            // Add active class to clicked option
            this.classList.add('active');
            
            const viewType = this.getAttribute('data-view');
            
            // Here you would typically fetch new data based on the selected view
            // For now, we'll just log the selected view
            console.log('Selected view:', viewType);
            
            // Example of how you might update the chart with new data
            // updateChartView(viewType);
        });
    });
    
    // Function to update chart view (example)
    function updateChartView(viewType) {
        // This is where you would fetch new data based on the selected view
        // For demonstration, we'll just modify the existing data
        if (viewType === 'comparison') {
            // Add a second dataset for comparison
            monthlyTrendChart.data.datasets = [
                {
                    ...monthlyTrendChart.data.datasets[0],
                    label: 'Current Year',
                    borderColor: '#3C91E6',
                    backgroundColor: 'rgba(60, 145, 230, 0.1)'
                },
                {
                    label: 'Previous Year',
                    data: [35, 50, 45, 65, 70, 55, 60, 75, 80, 70, 65, 85],
                    borderColor: '#9C27B0',
                    backgroundColor: 'rgba(156, 39, 176, 0.1)',
                    borderWidth: 2,
                    fill: true,
                    tension: 0.4,
                    pointBackgroundColor: '#fff',
                    pointBorderColor: '#9C27B0',
                    pointBorderWidth: 2,
                    pointRadius: 4,
                    pointHoverRadius: 6
                }
            ];
        } else {
            // Reset to single dataset for trend view
            monthlyTrendChart.data.datasets = [monthlyData.datasets[0]];
        }
        
        monthlyTrendChart.update();
    }
});
</script>

<script>
// Initialize Category Distribution and Priority Levels charts
document.addEventListener('DOMContentLoaded', function() {
    // Category Distribution - Bar Chart
    const categoryCtx = document.getElementById('categoryChart').getContext('2d');
    const categoryChart = new Chart(categoryCtx, {
        type: 'bar',
        data: {
            labels: ['Technical', 'Billing', 'Account', 'General', 'Other'],
            datasets: [{
                label: 'Tickets',
                data: [35, 28, 20, 15, 10],
                backgroundColor: [
                    'rgba(66, 135, 245, 0.8)',
                    'rgba(102, 187, 106, 0.8)',
                    'rgba(255, 167, 38, 0.8)',
                    'rgba(156, 39, 176, 0.8)',
                    'rgba(84, 110, 122, 0.8)'
                ],
                borderColor: [
                    'rgba(66, 135, 245, 1)',
                    'rgba(102, 187, 106, 1)',
                    'rgba(255, 167, 38, 1)',
                    'rgba(156, 39, 176, 1)',
                    'rgba(84, 110, 122, 1)'
                ],
                borderWidth: 1,
                borderRadius: 4,
                barThickness: 20,
                maxBarThickness: 30
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    display: false
                },
                tooltip: {
                    backgroundColor: 'rgba(0, 0, 0, 0.8)',
                    titleFont: {
                        size: 13,
                        weight: '500'
                    },
                    bodyFont: {
                        size: 13
                    },
                    padding: 10,
                    displayColors: false,
                    callbacks: {
                        label: function(context) {
                            return `${context.raw} tickets`;
                        }
                    }
                }
            },
            scales: {
                x: {
                    grid: {
                        display: false,
                        drawBorder: false
                    },
                    ticks: {
                        color: '#666',
                        font: {
                            size: 12
                        }
                    }
                },
                y: {
                    beginAtZero: true,
                    grid: {
                        color: 'rgba(0, 0, 0, 0.05)',
                        drawBorder: false
                    },
                    ticks: {
                        color: '#666',
                        font: {
                            size: 11
                        },
                        stepSize: 10,
                        maxTicksLimit: 6
                    }
                }
            }
        }
    });


    // Priority Levels - Polar Area Chart
    const priorityCtx = document.getElementById('priorityChart').getContext('2d');
    const priorityChart = new Chart(priorityCtx, {
        type: 'polarArea',
        data: {
            labels: ['Low', 'Medium', 'High', 'Critical'],
            datasets: [{
                data: [25, 35, 25, 15],
                backgroundColor: [
                    'rgba(0, 180, 216, 0.8)',
                    'rgba(67, 97, 238, 0.8)',
                    'rgba(255, 214, 10, 0.8)',
                    'rgba(255, 109, 106, 0.8)'
                ],
                borderColor: [
                    'rgba(0, 180, 216, 1)',
                    'rgba(67, 97, 238, 1)',
                    'rgba(255, 214, 10, 1)',
                    'rgba(255, 109, 106, 1)'
                ],
                borderWidth: 1
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    display: false
                },
                tooltip: {
                    backgroundColor: 'rgba(0, 0, 0, 0.8)',
                    titleFont: {
                        size: 13,
                        weight: '500'
                    },
                    bodyFont: {
                        size: 13
                    },
                    padding: 10,
                    displayColors: false,
                    callbacks: {
                        label: function(context) {
                            return `${context.label}: ${context.raw}%`;
                        }
                    }
                }
            },
            scale: {
                display: false
            },
            elements: {
                arc: {
                    borderWidth: 1
                }
            }
        }
    });

    // Update legend values when chart data changes
    function updatePriorityLegend(chart) {
        const data = chart.data.datasets[0].data;
        const total = data.reduce((a, b) => a + b, 0);
        
        document.querySelectorAll('#priorityChart ~ .chart-legend .legend-value').forEach((elem, index) => {
            const value = data[index] || 0;
            const percentage = Math.round((value / total) * 100);
            elem.textContent = `${percentage}%`;
        });
    }
    
    // Initial legend update
    updatePriorityLegend(priorityChart);
});
</script>

<script>
// Enhanced number animation with better debugging
document.addEventListener('DOMContentLoaded', function() {
    console.log('DOM loaded, initializing number animations...');
    
    // Simple animation function with easing
    function animateValue(element, start, end, duration) {
        // Skip if already animated
        if (element.classList.contains('animated')) {
            console.log('Element already animated, skipping:', element);
            return;
        }
        
        element.classList.add('animating');
        console.log('Starting animation for element:', element, 'from', start, 'to', end);
        
        const range = end - start;
        const startTime = performance.now();
        const isPercentage = element.getAttribute('data-original-text')?.includes('%') || false;
        
        function updateNumber(timestamp) {
            const elapsed = timestamp - startTime;
            const progress = Math.min(elapsed / duration, 1);
            
            // Ease out function for smoother end
            const easeOutCubic = 1 - Math.pow(1 - progress, 3);
            const current = Math.floor(start + (range * easeOutCubic));
            
            // Update the element's text
            element.textContent = isPercentage ? 
                current + '%' : 
                current.toLocaleString();
            
            if (progress < 1) {
                requestAnimationFrame(updateNumber);
            } else {
                // Animation complete
                element.textContent = isPercentage ? 
                    end + '%' : 
                    end.toLocaleString();
                element.classList.remove('animating');
                element.classList.add('animated');
                console.log('Animation complete for:', element);
            }
        }
        
        requestAnimationFrame(updateNumber);
    }
    
    // Setup Intersection Observer with better options
    const observer = new IntersectionObserver((entries, observer) => {
        console.log('Intersection observer triggered, entries:', entries.length);
        
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const element = entry.target;
                console.log('Element in view:', element);
                
                // Get the target number from data-count or parse from text
                let targetNumber = parseFloat(element.getAttribute('data-count'));
                if (isNaN(targetNumber)) {
                    const text = element.getAttribute('data-original-text') || element.textContent;
                    targetNumber = parseFloat(text.replace(/[^0-9.]/g, ''));
                    element.setAttribute('data-count', targetNumber);
                }
                
                if (!isNaN(targetNumber)) {
                    console.log('Animating element to:', targetNumber);
                    animateValue(element, 0, targetNumber, 2000);
                    observer.unobserve(element);
                } else {
                    console.warn('Invalid number for element:', element);
                }
            }
        });
    }, {
        root: null,
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    });
    
    // Find and initialize all number elements
    function initializeNumberElements() {
        console.log('Initializing number elements...');
        
        // Select all potential number elements
        const numberElements = document.querySelectorAll([
            '.stat-number',
            '.legend-percentage',
            '.stat-details h2',
            '.legend-value',
            '.stat-details p span',
            '.analytics-card h3 span',
            '.analytics-card .number'
        ].join(','));
        
        console.log('Found number elements:', numberElements.length);
        
        numberElements.forEach(el => {
            // Skip if already processed
            if (el.hasAttribute('data-initialized')) return;
            
            // Get the original text and clean it
            const originalText = el.textContent.trim();
            const numberMatch = originalText.match(/[0-9.,]+/);
            
            if (numberMatch) {
                const number = parseFloat(numberMatch[0].replace(/,/g, ''));
                if (!isNaN(number)) {
                    console.log('Found number element:', el, 'with value:', number);
                    
                    // Store original text and number
                    el.setAttribute('data-original-text', originalText);
                    el.setAttribute('data-count', number);
                    
                    // Set initial value to 0
                    if (originalText.includes('%')) {
                        el.textContent = '0%';
                    } else {
                        el.textContent = '0';
                    }
                    
                    // Start observing
                    observer.observe(el);
                    el.setAttribute('data-initialized', 'true');
                }
            }
        });
    }
    
    // Initialize on load
    initializeNumberElements();
    
    // Re-initialize when content might change (e.g., after AJAX)
    window.addEventListener('resize', () => {
        // Recheck all observed elements on resize
        document.querySelectorAll('[data-initialized]').forEach(el => {
            observer.unobserve(el);
            observer.observe(el);
        });    
    });
    
    // Debug button - only in development
    const analyticsSection = document.querySelector('.analytics');
    if (analyticsSection) {
        const debugButton = document.createElement('button');
        debugButton.textContent = 'Debug Animation';
        debugButton.className = 'debug-button';
        
        // Position the button in the top-right of the analytics section
        debugButton.style.position = 'absolute';
        debugButton.style.top = '20px';
        debugButton.style.right = '20px';
        debugButton.style.zIndex = '10';
        
        debugButton.onclick = function(e) {
            e.preventDefault();
            e.stopPropagation();
            
            console.log('--- DEBUG INFO ---');
            console.log('Analytics section position:', analyticsSection.getBoundingClientRect());
            console.log('Number elements found:', document.querySelectorAll('[data-initialized]').length);
            
            // Force re-animate all numbers in analytics section
            analyticsSection.querySelectorAll('[data-initialized]').forEach(el => {
                const originalText = el.getAttribute('data-original-text');
                const numberMatch = originalText ? originalText.match(/[0-9.,]+/) : null;
                
                if (numberMatch) {
                    el.textContent = originalText.includes('%') ? '0%' : '0';
                    el.classList.remove('animated', 'animating');
                    observer.unobserve(el);
                    observer.observe(el);
                }
            });
            
            console.log('Forced re-animation of all numbers in analytics section');
        };
        
        // Add debug button to the analytics section header
        const analyticsHeader = analyticsSection.querySelector('.card-header');
        if (analyticsHeader) {
            analyticsHeader.style.position = 'relative';
            analyticsHeader.appendChild(debugButton);
        } else {
            analyticsSection.insertBefore(debugButton, analyticsSection.firstChild);
        }
    }
});
</script>

<style>
  .assignee-group-dropdown {
    padding: 5px 10px;
    border-radius: 4px;
    border: 1px solid #bbb;
    background: #fff;
    min-width: 140px;
    font-size: 15px;
    margin: 0 0 0 4px;
  }
</style>
<!-- Todo Actions Menu -->
<div class="todo-actions-menu" style="display: none;">
    <div class="menu-item" data-status="completed">
        <i class='bx bx-check-circle'></i> Mark as Completed
    </div>
    <div class="menu-item" data-status="process">
        <i class='bx bx-time-five'></i> Mark as In Process
    </div>
    <div class="menu-item" data-status="not-completed">
        <i class='bx bx-x-circle'></i> Mark as Not Completed
    </div>
    <div class="menu-item delete-todo">
        <i class='bx bx-trash'></i> Delete
    </div>
</div>

<!-- Add Todo Modal -->
<div id="add-todo-modal" class="modal" style="display: none;">
    <div class="modal-content">
        <div class="modal-header">
            <h3>Add New Todo</h3>
            <span class="close-modal">&times;</span>
        </div>
        <div class="modal-body">
            <input type="text" id="new-todo-input" placeholder="Enter todo text...">
            <select id="todo-status">
                <option value="not-completed">Not Completed</option>
                <option value="process">In Process</option>
                <option value="completed">Completed</option>
            </select>
        </div>
        <div class="modal-footer">
            <button id="save-todo" class="btn-primary">Add Todo</button>
            <button class="btn-secondary close-modal">Cancel</button>
        </div>
    </div>
</div>

<!-- Logout Confirmation Modal -->
<div id="logout-modal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h3>Confirm Logout</h3>
            <span class="close-modal">&times;</span>
        </div>
        <div class="modal-body">
            <p>Are you sure you want to logout?</p>
        </div>
        <div class="modal-footer">
            <button class="btn-secondary close-modal">Cancel</button>
            <button class="btn-primary" id="confirm-logout">Logout</button>
        </div>
    </div>
</div>

</html>